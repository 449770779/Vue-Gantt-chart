!function(t){function e(e){for(var i,l,s=e[0],o=e[1],u=e[2],d=0,f=[];d<s.length;d++)l=s[d],r[l]&&f.push(r[l][0]),r[l]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);for(c&&c(e);f.length;)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var o=n[s];0!==r[o]&&(i=!1)}i&&(a.splice(e--,1),t=l(l.s=n[0]))}return t}var i={},r={0:0},a=[];function l(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=i,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(n,i,function(e){return t[e]}.bind(null,i));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=o;a.push([45,1]),n()}([,,,function(t,e,n){"use strict";n.r(e);var i=n(4),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(51)),r=s(n(55)),a=n(57),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}var o="1,2,3,4,5,6,10,12,15,20,30,60,120,180,240,360,720,1440".split(",").map(function(t){return parseInt(t)});e.default={name:"App",components:{Test:i.default,TestLeft:r.default},data:function(){return{timeLines:[{time:(0,l.default)().add(2,"h").format("YYYY-MM-DD HH:mm:ss")},{time:(0,l.default)().add(5,"h").format("YYYY-MM-DD HH:mm:ss"),color:"#747e80"}],currentTime:(0,l.default)(),startTime:(0,l.default)().subtract(5,"h").toString(),endTime:(0,l.default)().add(2,"d").add(2,"h").add(5,"s").toString(),cellWidth:50,cellHeight:30,titleHeight:40,titleWidth:250,scale:60,datasNum:100,datas:(0,a.mockDatas)(100),dataKey:"id",scaleList:o,scrollToTime:(0,l.default)().add(1,"d").toString(),scrollToPostion:{x:1e4,y:1e4}}},watch:{datasNum:function(t,e){this.datas=(0,a.mockDatas)(t)}},methods:{updateTimeLines:function(t,e){this.timeLines=[{time:t},{time:e,color:"#747e80"}]}}}},function(t,e,n){"use strict";n.r(e);var i=n(6),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(2),a=(i=r)&&i.__esModule?i:{default:i};e.default={name:"Test",props:{data:Object,item:Object,currentTime:a.default,updateTimeLines:Function},data:function(){return{moment:a.default}},computed:{statusColor:function(){var t=this.item,e=this.currentTime,n=(0,a.default)(t.start),i=(0,a.default)(t.end);return n.isBefore(e)&&i.isAfter(e)?"#65b2a7":i.isBefore(e)?"#9e9e9e":"#69b3e1"}},methods:{onClick:function(){this.updateTimeLines(this.item.start,this.item.end)}}}},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(9),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"TestLeft",props:{data:Object}}},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(13),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(n(64)),r=f(n(1)),a=n(41),l=n(42),s=f(n(80)),o=f(n(81)),u=f(n(82)),c=f(n(84)),d=f(n(43));function f(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Gantt",components:{Timeline:s.default,LeftBar:u.default,Blocks:c.default,MarkLine:d.default,CurrentTime:o.default},props:{startTime:{required:!0,validator:function(t){return(0,r.default)(t).isValid()}},endTime:{required:!0,validator:function(t){return(0,r.default)(t).isValid()}},cellWidth:{type:Number,default:50},cellHeight:{type:Number,default:20},titleHeight:{type:Number,default:40},titleWidth:{type:Number,default:200},scale:{type:Number,default:60,validator:function(t){return a.scaleList.includes(t)}},datas:{type:Array,required:!0},dataKey:{type:String,default:void 0},itemKey:{type:String,default:void 0},showCurrentTime:{type:Boolean,default:!1},timeLines:{type:Array},scrollToTime:{validator:function(t){return(0,r.default)(t).isValid()}},scrollToPostion:{validator:function(t){if(!t.x&&!t.y)return console.warn("scrollToPostion 最少需要一个x或者y值"),!1;var e=!t.x||!(0,i.default)(t.x),n=!t.y||!(0,i.default)(t.y);return e&&n}}},data:function(){return{selector:{gantt_leftbar:{},gantt_table:{},gantt_scroll_y:{},gantt_timeline:{},gantt_scroll_x:{},gantt_markArea:{}},scrollTop:0,scrollLeft:0}},computed:{start:function(){return(0,r.default)(this.startTime)},end:function(){return(0,r.default)(this.endTime)},totalWidth:function(){return this.titleWidth+this.cellWidth*this.totalScales},totalScales:function(){var t=this.start,e=this.end,n=this.scale;return(0,a.calcScalesAbout2Times)(t,e,n)},totalHeight:function(){var t=this.datas,e=this.cellHeight;return t.length*e},beginTimeOfTimeLine:function(){return(0,a.getBeginTimeOfTimeLine)(this.start,this.scale)}},watch:{cellWidth:function(){this.resetCss()},cellHeight:function(){this.resetCss()},scrollToTime:{handler:function(t){var e=this;if(t){var n=this.start,i=this.end,a=this.beginTimeOfTimeLine,s=this.scale,o=this.cellWidth,u=(0,r.default)(t);if(u.isAfter(n)&&u.isBefore(i)){var c={cellWidth:o,scale:s},d=(0,l.getPositonOffset)(t,a.toString(),c);this.$nextTick(function(){return e.syncScrollX({target:{scrollLeft:d}},!0)})}else console.warn("当前滚动至"+t+"不在"+n+"和"+i+"的范围之内")}},immediate:!0},scrollToPostion:{handler:function(t){var e=this;if(t){var n=(0,i.default)(t.x)?void 0:t.x,r=(0,i.default)(t.y)?void 0:t.y;this.$nextTick(function(){n&&e.syncScrollX({target:{scrollLeft:n}},!0),r&&e.syncScrollY({target:{scrollTop:r}},!0)})}},immediate:!0}},created:function(){},mounted:function(){this.resetCss(),this.getSelector()},updated:function(){},methods:{getTimeLinePosition:function(t){var e=this.cellWidth,n=this.scale,i=this.beginTimeOfTimeLine,r=this.titleWidth,a={cellWidth:e,scale:n};return(0,l.getPositonOffset)(t,i.format("YYYY-MM-DD HH:mm:ss"),a)+r},getSelector:function(){this.selector.gantt_leftbar=document.querySelector(".gantt-leftbar-wrapper"),this.selector.gantt_table=document.querySelector(".gantt-blocks-wrapper"),this.selector.gantt_scroll_y=document.querySelector(".gantt-scroll-y"),this.selector.gantt_timeline=document.querySelector(".gantt-header-timeline"),this.selector.gantt_scroll_x=document.querySelector(".gantt-scroll-x"),this.selector.gantt_markArea=document.querySelector(".gantt-markline-area")},wheelHandle:function(t){var e=this,n=t.deltaX,i=t.deltaY,r=(t.deltaZ,this.selector),a=r.gantt_leftbar,l=r.gantt_table,s=r.gantt_scroll_y,o=r.gantt_timeline,u=r.gantt_scroll_x,c=r.gantt_markArea;this.$nextTick(function(){0!=i&&(a.scrollTop+=i,l.scrollTop+=i,s.scrollTop+=i,e.scrollTop=l.scrollTop),0!=n&&(o.scrollLeft+=n,u.scrollLeft+=n,c.style.left=c.style.left+n,e.scrollLeft+n<0&&(e.scrollLeft=0))})},syncScrollY:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.selector,i=n.gantt_leftbar,r=n.gantt_table,a=n.gantt_scroll_y,l=t.target.scrollTop;e?a.scrollTop=l:(i.scrollTop=l,r.scrollTop=l,this.scrollTop=l)},syncScrollX:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.selector,i=n.gantt_table,r=n.gantt_timeline,a=n.gantt_markArea,l=n.gantt_scroll_x,s=t.target.scrollLeft;e?l.scrollLeft=s:(i.scrollLeft=s,r.scrollLeft=s,a.style.left="-"+s+"px",this.scrollLeft=s)},resetCss:function(){var t=document.getElementById("gantt-cell-style"),e=this.cellWidth,n=this.cellHeight,i=(this.totalWidth,".gantt-cell-width{width:"+e+"px;}\n        .gantt-cell-height{height:"+n+"px;}\n        .gantt-block{background-size: "+e+"px "+n+"px;");if(null==t){var r=document.createElement("style");r.setAttribute("id","gantt-cell-style"),r.setAttribute("type","text/css"),r.innerText=i,document.head.appendChild(r)}else t.innerText=i}}}},function(t,e,n){"use strict";n.r(e);var i=n(15),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i},l=n(41);function s(t,e){return t.isSame(e,"day")}e.default={name:"Timeline",props:{start:{type:a.default,required:!0},end:{type:a.default,required:!0},cellWidth:{type:Number,default:50},titleHeight:{type:Number,default:40},scale:{type:Number,default:60}},computed:{getDays:function(){for(var t=[],e=this.start.clone(),n=this.end;!s(e,n);e.add(1,"d"))t.push(e.clone());return t.push(e.clone()),t}},methods:{getTimeScales:function(t){var e=this.start,n=this.end;return s(t,e)?this.generateTimeScale(0):s(t,n)?this.generateTimeScale(2):this.generateTimeScale(1)},generateTimeScale:function(t){var e=[],n=this.start,i=this.end,r=this.scale,a=void 0,o=void 0;switch(t){case 0:a=(0,l.getBeginTimeOfTimeLine)(n,r),o=s(n,i)?i:n.clone().endOf("day");break;case 2:a=i.clone().startOf("day"),o=i.clone();break;case 1:a=n.clone().startOf("day"),o=n.clone().endOf("day");break;default:throw new TypeError("错误的计算类型")}for(;!a.isAfter(o);)r>=60?e.push(a.format("HH")):e.push(a.format("HH:mm")),a.add(r,"m");return e}}}},function(t,e,n){"use strict";n.r(e);var i=n(17),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(1)),r=a(n(43));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"CurrentTime",components:{MarkLine:r.default},props:{getTimeLinePosition:{type:Function,required:!0}},data:function(){return{currentTime:(0,i.default)().format("YYYY-MM-DD HH:mm:ss")}},created:function(){var t=this;setInterval(function(){t.currentTime=(0,i.default)().format("YYYY-MM-DD HH:mm:ss")},1e3);this.$once("hook:beforeDestroy",function(t){clearInterval(t)})}}},function(t,e,n){"use strict";n.r(e);var i=n(19),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};e.default={name:"MarkLine",props:{markLineTime:{validator:function(t){return(0,a.default)(t).isValid()}},color:{type:String,default:"#0ca30a"},getTimeLinePosition:{type:Function,required:!0}},data:function(){return{visible:!1,moment:a.default}},methods:{getPosition:function(){return null==this.markLineTime?(this.visible=!1,0):(this.visible=!0,this.getTimeLinePosition(this.markLineTime))}}}},function(t,e,n){"use strict";n.r(e);var i=n(21),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(44),a=(i=r)&&i.__esModule?i:{default:i};e.default={name:"LeftBar",mixins:[a.default],props:{dataKey:String,datas:{type:Array,required:!0}}}},function(t,e,n){"use strict";n.r(e);var i=n(23),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(1)),r=l(n(44)),a=n(42);function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Blocks",mixins:[r.default],props:{dataKey:String,itemKey:String,scrollLeft:Number,beginTimeOfTimeLine:{type:i.default,required:!0},cellWidth:{type:Number,required:!0},scale:{type:Number,required:!0}},data:function(){return{startTime:null,endTime:null}},created:function(){this.getTimeRange()},mounted:function(){},computed:{beginTimeOfTimeLineFormat:function(){return this.beginTimeOfTimeLine.format("YYYY-MM-DD HH:mm:ss")}},watch:{scrollLeft:function(){this.getTimeRange()}},methods:{getTimeRange:function(){var t=this.beginTimeOfTimeLine,e=this.scrollLeft,n=this.cellWidth,i=this.scale,r=this.containerWidth;this.startTime=t.clone().add(e/n*i,"m").toDate().getTime(),this.endTime=t.clone().add((e+r)/n*i,"m").toDate().getTime()},isInTimeRange:function(t){var e=this.startTime,n=this.endTime,i=new Date(t.start).getTime(),r=new Date(t.end).getTime();return e<=i&&i<=n||e<=r&&r<=n},getWidth:function(t){var e={scale:this.scale,cellWidth:this.cellWidth};return(0,a.getWidthAbout2Times)(t.start,t.end,e)},getPosition:function(t){var e={scale:this.scale,cellWidth:this.cellWidth};return(0,a.getPositonOffset)(t.start,this.beginTimeOfTimeLineFormat,e)}}}},function(t,e,n){},,,,function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"top-bar"},[t._v("Vue-Gantt-Chart\n    "),n("label",{attrs:{for:"cellWidth"}},[t._v("cellWidth")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.cellWidth,expression:"cellWidth",modifiers:{number:!0}}],attrs:{type:"range",min:"20",max:"100"},domProps:{value:t.cellWidth},on:{__r:function(e){t.cellWidth=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("label",{attrs:{for:"cellHeight"}},[t._v("cellHeight")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.cellHeight,expression:"cellHeight",modifiers:{number:!0}}],attrs:{type:"range",min:"20",max:"100"},domProps:{value:t.cellHeight},on:{__r:function(e){t.cellHeight=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("label",{attrs:{for:"titleWith"}},[t._v("titleWidth")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.titleWidth,expression:"titleWidth",modifiers:{number:!0}}],attrs:{type:"range",min:"0",max:"250"},domProps:{value:t.titleWidth},on:{__r:function(e){t.titleWidth=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("label",{attrs:{for:"datasNum"}},[t._v("datasNum")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:t.datasNum,expression:"datasNum",modifiers:{number:!0,lazy:!0}}],attrs:{id:"datasNum"},domProps:{value:t.datasNum},on:{change:function(e){t.datasNum=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("label",{attrs:{for:"scale"}},[t._v("scale")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model.number",value:t.scale,expression:"scale",modifiers:{number:!0}}],attrs:{id:"scale"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var n="_value"in e?e._value:e.value;return t._n(n)});t.scale=e.target.multiple?n:n[0]}}},t._l(t.scaleList,function(e){return n("option",{key:e},[t._v(t._s(e))])}),0),t._v(" "),n("span",[t._v("minute")])]),t._v(" "),n("div",{style:{height:"calc(100vh - 30px - 30px)"}},[n("v-gantt-chart",{attrs:{startTime:t.startTime,endTime:t.endTime,cellWidth:t.cellWidth,cellHeight:t.cellHeight,timeLines:t.timeLines,titleHeight:t.titleHeight,scale:t.scale,titleWidth:t.titleWidth,showCurrentTime:"",dataKey:t.dataKey,datas:t.datas},scopedSlots:t._u([{key:"block",fn:function(e){var i=e.data,r=e.item;return[n("Test",{attrs:{data:i,updateTimeLines:t.updateTimeLines,currentTime:t.currentTime,item:r}})]}},{key:"left",fn:function(t){var e=t.data;return[n("TestLeft",{attrs:{data:e}})]}},{key:"title",fn:function(){return[t._v("\n        铁胆火车侠日程表\n      ")]},proxy:!0}])})],1),t._v(" "),n("footer",{staticClass:"main-footer"},[t._v("wuchouchou")])])},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gantt-chart",on:{wheel:t.wheelHandle}},[n("div",{staticClass:"gantt-header"},[n("div",{staticClass:"gantt-header-title",style:{"line-height":t.titleHeight+"px",height:t.titleHeight+"px","max-width":t.titleWidth+"px","min-width":t.titleWidth+"px"}},[t._t("title")],2),t._v(" "),n("div",{staticClass:"gantt-header-timeline"},[n("timeline",{style:{width:t.totalWidth+"px"},attrs:{start:t.start,end:t.end,cellWidth:t.cellWidth,titleHeight:t.titleHeight,scale:t.scale}})],1)]),t._v(" "),n("div",{staticClass:"gantt-body",style:{height:"calc(100% - "+t.titleHeight+"px)"}},[n("div",{staticClass:"gantt-table"},[n("div",{staticClass:"gantt-markline-area"},[t.showCurrentTime?n("CurrentTime",{attrs:{getTimeLinePosition:t.getTimeLinePosition}}):t._e(),t._v(" "),t._l(t.timeLines,function(e,i){return n("mark-line",{key:i,attrs:{markLineTime:e.time,getTimeLinePosition:t.getTimeLinePosition,color:e.color}})})],2),t._v(" "),n("div",{staticClass:"gantt-leftbar-wrapper",style:{"max-width":t.titleWidth+"px","min-width":t.titleWidth+"px"}},[n("LeftBar",{style:{height:t.totalHeight+"px"},attrs:{datas:t.datas,dataKey:t.dataKey,scrollTop:t.scrollTop,cellHeight:t.cellHeight},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return[t._t("left",null,{data:n})]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"gantt-blocks-wrapper"},[n("blocks",{style:{width:t.totalWidth+"px"},attrs:{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft,dataKey:t.dataKey,datas:t.datas,cellWidth:t.cellWidth,cellHeight:t.cellHeight,scale:t.scale,beginTimeOfTimeLine:t.beginTimeOfTimeLine},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data,i=e.item;return[t._t("block",null,{data:n,item:i})]}}],null,!0)})],1)]),t._v(" "),n("div",{staticClass:"gantt-scroll-y",on:{scroll:t.syncScrollY}},[n("div",{style:{height:t.totalHeight+"px"}})]),t._v(" "),n("div",{staticClass:"gantt-scroll-x",on:{scroll:t.syncScrollX}},[n("div",{style:{width:t.totalWidth+"px"}})])])])},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plan",style:{"background-color":t.statusColor},on:{click:t.onClick}},[n("div",{staticClass:"runTime"},[n("span",[t._v("起"+t._s(t.moment(t.item.start).format("HH:mm:ss")))]),t._v(" "),n("span",[t._v("至"+t._s(t.moment(t.item.end).format("HH:mm:ss")))])]),t._v(" "),n("div",{staticClass:"middle"},[t._v("编号"+t._s(t.item.id))]),t._v(" "),n("div",{staticClass:"passenger"},[t._v(t._s(t.item.passenger)+"人")])])},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"name",style:{background:t.data.color}},[n("div",{staticClass:"colorBar"}),t._v(" "),n("div",{staticClass:"type"},[t._v(t._s(t.data.type))]),t._v(" "),n("div",{staticClass:"carId"},[t._v(t._s(t.data.name)+t._s(t.data.id))]),t._v(" "),n("div",{staticClass:"speed"},[t._v(t._s(t.data.speed)+"km/s")])])},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gantt-timeline",style:{"margin-left":-t.cellWidth/2+"px"}},t._l(t.getDays,function(e,i){return n("div",{key:i,staticClass:"gantt-timeline-block"},[n("div",{staticClass:"gantt-timeline-day ",style:{height:t.titleHeight/2+"px","line-height":t.titleHeight/2+"px"}},[t._v(t._s(e.format("MM/DD")))]),t._v(" "),n("div",{staticClass:"gantt-timeline-scale ",style:{height:t.titleHeight/2+"px","line-height":t.titleHeight/2+"px"}},t._l(t.getTimeScales(e),function(e,i){return n("div",{key:i,staticClass:"gantt-cell-width"},[t._v("\n        "+t._s(e)+"\n      ")])}),0)])}),0)},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gantt-blocks",style:{height:t.blockHeight+"px"}},[n("div",{staticClass:"gantt-block gantt-block-top-space",style:{height:t.calTopSpace()+"px"}}),t._v(" "),t._l(t.showDatas,function(e,i){return n("div",{key:t.dataKey?e[t.dataKey]:i,staticClass:"gantt-block gantt-cell-height"},t._l(e.gtArray,function(i,r){return t.isInTimeRange(i)?n("div",{key:t.itemKey?i[t.itemKey]:r,staticClass:"gantt-block-item",style:{width:t.getWidth(i)+"px",left:t.getPosition(i)+"px"}},[t._t("default",null,{data:e,item:i})],2):t._e()}),0)})],2)},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},function(t,e,n){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("mark-line",{attrs:{markLineTime:this.currentTime,getTimeLinePosition:this.getTimeLinePosition,color:"rgba(255,0,0,.4)"}})},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gantt-leftbar"},[n("div",{staticClass:"gantt-leftbar-item gantt-block-top-space",style:{height:t.calTopSpace()+"px"}}),t._v(" "),t._l(t.showDatas,function(e,i){return n("div",{key:t.dataKey?e[t.dataKey]:i,staticClass:"gantt-leftbar-item gantt-cell-height"},[t._t("default",null,{data:e})],2)})],2)},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"gantt-markline",style:{"background-color":t.color,left:t.getPosition()+"px"}},[n("div",{staticClass:"gantt-markline-label",style:{"background-color":t.color}},[t._v(t._s(t.moment(t.markLineTime).format("HH:mm:ss")))])])},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scaleList=void 0,e.validateScale=s,e.getBeginTimeOfTimeLine=o,e.calcScalesAbout2Times=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;if(!a.default.isMoment(t)||!a.default.isMoment(e))throw new TypeError("参数必须为moment 对象");if(t.isAfter(e))throw new TypeError("错误的参数顺序，函数calcScalesAbout2Times的第一个时间参数必须大于第二个时间参数");s(n);var i=o(t,n),r=0;for(;!i.isAfter(e);)r++,i.add(n,"m");return r};var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i};var l=e.scaleList=[1,2,3,4,5,6,10,12,15,20,30,60,120,180,240,360,720,1440];function s(t){if(!l.includes(t))throw new RangeError("错误的scale值，输入值为"+t+",可用的scale值为"+l.join(","));return!0}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;s(e);var n=void 0,i=t.clone(),r=e/60;return e>60?(n=Math.floor(t.hour()/r),i.hour(n*r).minute(0).seconds(0)):(n=Math.floor(t.minutes()/e),i.minutes(n*e).seconds(0)),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWidthAbout2Times=function(t,e,n){var i=n.scale,r=n.cellWidth,o=a("pStart",t),u=l(e);return s(o,u)/i*r},e.getPositonOffset=function(t,e,n){var i=n.scale,r=n.cellWidth,l=a("pStart",t);return s(a("pBeginTimeOfTimeLine",e),l)/i*r};var i,r,a=(i={},r={},function(t,e){return i[t]!==e&&(i[t]=e,r[t]=l(e)),r[t]});function l(t){return new Date(t)}function s(t,e){return((e.getTime()-t.getTime())/1e3/60).toFixed(4)}},function(t,e,n){"use strict";n.r(e);var i=n(36),r=n(18);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);var l=n(0),s=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(83),a=(i=r)&&i.__esModule?i:{default:i};var l={props:{scrollTop:Number,cellHeight:{type:Number,required:!0},datas:{type:Array,required:!0}},data:function(){return{showDatas:[],containerHeight:960,containerWidth:1920,initSize_:"",oldCurrentIndex:0,preload:1}},computed:{blockHeight:function(){var t=this.datas,e=this.cellHeight;return t.length*e},currentIndex:function(){return Math.ceil(this.scrollTop/this.cellHeight)}},watch:{currentIndex:function(t){var e=this.oldCurrentIndex,n=this.preload;(t<e-n||t>e+n)&&(this.oldCurrentIndex=t,this.spliceData())}},created:function(){this.spliceData(),this.initSize_=(0,a.default)(this.getContainerSize)},mounted:function(){var t=this;this.initSize_(),window.addEventListener("resize",this.initSize_),this.$once("hook:beforeDestroy",function(){window.removeEventListener("resize",t.initSize_)})},methods:{getContainerSize:function(){var t=document.querySelector(".gantt-blocks-wrapper");this.containerHeight=t.clientHeight,this.containerWidth=t.clientWidth},spliceData:function(){var t=this.containerHeight,e=this.currentIndex,n=this.cellHeight,i=this.preload,r=e+Math.ceil(t/n),a=e-i>=0?e-i:0;this.showDatas=this.datas.slice(a,r+i)},calTopSpace:function(){var t=this.oldCurrentIndex,e=this.cellHeight,n=this.preload;return(t-n>=0?t-n:0)*e}}};e.default=l},function(t,e,n){"use strict";var i=l(n(46)),r=l(n(50));n(60);var a=l(n(61));function l(t){return t&&t.__esModule?t:{default:t}}i.default.config.debug=!1,i.default.config.devtools=!1,i.default.config.productionTip=!1,i.default.use(a.default),new i.default({el:"#app",components:{App:r.default},template:"<App/>"})},,,,,function(t,e,n){"use strict";n.r(e);var i=n(28),r=n(3);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n(59);var l=n(0),s=Object(l.a)(r.default,i.a,i.b,!1,null,"2720249c",null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(30),r=n(5);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n(54);var l=n(0),s=Object(l.a)(r.default,i.a,i.b,!1,null,"c8f418ea",null);e.default=s.exports},function(t,e,n){var i={"./zh-cn":53};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=52},,function(t,e,n){"use strict";var i=n(7);n.n(i).a},function(t,e,n){"use strict";n.r(e);var i=n(31),r=n(8);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n(56);var l=n(0),s=Object(l.a)(r.default,i.a,i.b,!1,null,"43b497fe",null);e.default=s.exports},function(t,e,n){"use strict";var i=n(10);n.n(i).a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mockDatas=void 0;var i=a(n(2)),r=a(n(58));function a(t){return t&&t.__esModule?t:{default:t}}var l="#fc6964,#f7a7471,#f3ce4b,#74ca5a1,#46b7f2,#a6a6a8".split(",");console.log("TCL: colorList",l);var s="希望号,飞翼号,光明号,窥探号,力神号,警官号,闪电流星号,博士号,霹雳火神号,狙击手号,希望之光号,南海忍者号,火速E3号,山神号,安全卫士号,铁锤号,寿星号,星星号,罗曼斯卡,欲望号,霹雳雷电号,消防号,欧洲之星号".split(","),o="🚅,🚈,🚄".split(","),u=r.default.Random,c={id:function(){return"JHR"+u.natural(100,999)+u.character("upper")},name:function(){return u.pick(s)},type:function(){return u.pick(o)},color:function(){return u.pick(l)},speed:function(){return u.natural(0,200)},gtArray:function(){for(var t=[],e=0,n=u.natural(1,9),r=(0,i.default)().subtract(12,"h"),a=(0,i.default)().subtract(12,"h");e<n;)r=a.clone().add(u.natural(1,5),"h"),a=r.clone().add(u.natural(1,5),"h"),t.push({id:"D"+u.natural(1e3,9999),passenger:u.natural(10,200),start:r.format("YYYY-MM-DD HH:mm:ss"),end:a.format("YYYY-MM-DD HH:mm:ss")}),e++;return t}};e.mockDatas=function(t){for(var e=[],n=0,i=u.natural(t,t);n<i;n++)e.push(r.default.mock(c));return e}},,function(t,e,n){"use strict";var i=n(11);n.n(i).a},function(t,e,n){},function(t,e,n){"use strict";t.exports=n(62)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(63),a=(i=r)&&i.__esModule?i:{default:i};var l={install:function(t,e){t.component("v-gantt-chart",a.default)}};e.default=l},function(t,e,n){"use strict";n.r(e);var i=n(29),r=n(12);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n(85);var l=n(0),s=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},,,,,,,,,,,,,,,function(t,e,n){var i={"./zh-cn":79};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=78},,function(t,e,n){"use strict";n.r(e);var i=n(32),r=n(14);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);var l=n(0),s=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(34),r=n(16);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);var l=n(0),s=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(35),r=n(20);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);var l=n(0),s=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=this,a=arguments,l=i&&!e;clearTimeout(e),e=setTimeout(function(){e=null,i||t.apply(r,a)},n),l&&t.apply(r,a)}}},function(t,e,n){"use strict";n.r(e);var i=n(33),r=n(22);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);var l=n(0),s=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";var i=n(24);n.n(i).a}]);